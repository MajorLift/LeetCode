{"id":937962798,"lang":"python3","lang_name":"Python3","time":"4 months, 3 weeks","timestamp":1682179588,"status":10,"status_display":"Accepted","runtime":"709 ms","url":"/submissions/detail/937962798/","is_pending":"Not Pending","title":"Minimum Moves to Move a Box to Their Target Location","memory":"14.2 MB","code":"class Solution:\n    def minPushBox(self, grid: List[List[str]]) -> int:\n        self.grid, self.m, self.n = grid, len(grid), len(grid[0])\n        self.DIRECTIONS = ((0, 1), (1, 0), (0, -1), (-1, 0))\n        (xs, ys), (xb, yb), (xt, yt) = map(self.findCellType, ('S', 'B', 'T'))\n\n        visited = set([((xb, yb), (xs, ys))])\n        pq = [(0, (xb, yb), (xs, ys))]\n        while pq:\n            moves, (rb, cb), (rs, cs) = heappop(pq)\n            if (rb, cb) == (xt, yt):\n                return moves\n            for d in self.DIRECTIONS:\n                ib, jb = map(sum, zip((rb, cb), d))\n                is_, js = map(sum, zip((rb, cb), map(operator.neg, d)))\n                if not self.valid(ib, jb) \\\n                    or not self.valid(is_, js) \\\n                    or not self.traversable((rs, cs), (is_, js), (rb, cb)) \\\n                    or ((ib, jb), (is_, js)) in visited:\n                    continue\n                heappush(pq, (moves + 1, (ib, jb), (is_, js)))\n                visited.add(((ib, jb), (is_, js)))\n        return -1\n    \n    def manhattanDist(self, a, b):\n        return abs(a[0] - b[0]) + abs(a[1] - b[1])\n    \n    def valid(self, x, y):\n        return 0 <= x < self.m and 0 <= y < self.n \\\n            and self.grid[x][y] != '#'\n\n    def traversable(self, src, dst, box):\n        queue, visited = deque([src]), set()\n        while queue:\n            curr = queue.popleft()\n            if curr == dst:\n                return True\n            for i, j in (map(sum, zip(d, curr)) for d in self.DIRECTIONS):\n                if self.valid(i, j) \\\n                    and (i, j) != box \\\n                    and (i, j) not in visited:\n                    visited.add((i, j))\n                    queue.append((i, j))\n        return False\n        \n    def findCellType(self, cell_type):\n        for i, j in product(range(self.m), range(self.n)):\n            if self.grid[i][j] == cell_type:\n                return (i, j)\n","compare_result":"111111111111111111111111111111","title_slug":"minimum-moves-to-move-a-box-to-their-target-location","has_notes":true,"flag_type":1}
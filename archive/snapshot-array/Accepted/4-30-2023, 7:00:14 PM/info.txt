{"id":942361528,"lang":"python3","lang_name":"Python3","time":"4 months, 2 weeks","timestamp":1682906414,"status":10,"status_display":"Accepted","runtime":"701 ms","url":"/submissions/detail/942361528/","is_pending":"Not Pending","title":"Snapshot Array","memory":"41.8 MB","code":"class SnapshotArray:\n\n    def __init__(self, length: int):\n        self.data = [[(0, -1)] for _ in range(length)]\n        self.snap_id = 0\n\n    def set(self, index: int, val: int) -> None:\n        prev_val, prev_snapid = self.data[index][-1]\n        if prev_val != val:\n            if prev_snapid == self.snap_id:\n                self.data[index].pop()\n            self.data[index].append((val, self.snap_id))\n            \n    def snap(self) -> int:\n        self.snap_id += 1\n        return self.snap_id - 1\n\n    def get(self, index: int, snap_id: int) -> int:\n        pos = bisect_right(self.data[index], snap_id, key=lambda x: x[1])\n        while pos == len(self.data[index]) or self.data[index][pos][1] > snap_id:\n            pos -= 1\n        return self.data[index][pos][0]\n\n\n# Your SnapshotArray object will be instantiated and called as such:\n# obj = SnapshotArray(length)\n# obj.set(index,val)\n# param_2 = obj.snap()\n# param_3 = obj.get(index,snap_id)","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"snapshot-array","has_notes":false,"flag_type":1}
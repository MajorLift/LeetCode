{"id":937081609,"lang":"python3","lang_name":"Python3","time":"4 months, 3 weeks","timestamp":1682018205,"status":10,"status_display":"Accepted","runtime":"378 ms","url":"/submissions/detail/937081609/","is_pending":"Not Pending","title":"Detect Squares","memory":"16.2 MB","code":"class DetectSquares:\n\n    def __init__(self):\n        self.points = defaultdict(int)\n        self.points_x, self.points_y = defaultdict(list), defaultdict(list)\n\n    def add(self, point: List[int]) -> None:\n        x, y = point\n        self.points[(x, y)] += 1\n        self.points_x[x].append(y)\n        self.points_y[y].append(x)\n\n    def count(self, point: List[int]) -> int:\n        x0, y0 = point\n        xdist, ydist = defaultdict(set), defaultdict(set)\n        for x in self.points_y[y0]:\n            xdist[abs(x - x0)].add(x)\n        for y in self.points_x[x0]:\n            ydist[abs(y - y0)].add(y)\n        candidates = xdist.keys() & ydist.keys() - {0}\n        ans = 0\n        for d in candidates:\n            for x, y in product(xdist[d], ydist[d]):\n                ans += self.points[(x, y)] * self.points[(x, y0)] * self.points[(x0, y)]\n        return ans\n\n# Your DetectSquares object will be instantiated and called as such:\n# obj = DetectSquares()\n# obj.add(point)\n# param_2 = obj.count(point)","compare_result":"111111111111111111111111111111111111111111111111111111","title_slug":"detect-squares","has_notes":false,"flag_type":1}
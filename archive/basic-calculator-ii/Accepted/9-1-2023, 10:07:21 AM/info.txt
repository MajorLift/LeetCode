{"id":1037826355,"lang":"python3","lang_name":"Python3","time":"1 week, 3 days","timestamp":1693588041,"status":10,"status_display":"Accepted","runtime":"208 ms","url":"/submissions/detail/1037826355/","is_pending":"Not Pending","title":"Basic Calculator II","memory":"26 MB","code":"class Solution:\n    def calculate(self, s: str) -> int:\n        arr = self.parse([char for char in s if char != \" \"])\n        # print(arr)\n        num_stack, op_stack = self.muldiv(arr)\n        # print(num_stack, op_stack)\n        res = self.addsub(num_stack, op_stack)\n        # print(res)\n        return res\n\n    def parse(self, arr):\n        output = []\n        for char in arr:\n            if char in {\"+\", \"-\", \"*\", \"/\"}:\n                output.append(char)\n            elif char.isnumeric():\n                if output and output[-1].isnumeric():\n                    output.append(output.pop() + char)\n                else:\n                    output.append(char)\n        return [int(e) if i % 2 == 0 else e for i,e in enumerate(output)]\n\n    def muldiv(self, arr):\n        num_stack, op_stack = deque(), deque()\n        for i,e in enumerate(arr):\n            if i % 2 == 0:\n                if op_stack and op_stack[-1] == \"*\":\n                    num_stack.append(num_stack.pop() * e)\n                    op_stack.pop()\n                elif op_stack and op_stack[-1] == \"/\":\n                    num_stack.append(int(num_stack.pop() / e))\n                    op_stack.pop()\n                else:\n                    num_stack.append(e)\n            else:\n                op_stack.append(e)\n        return num_stack, op_stack\n\n    def addsub(self, num_stack, op_stack):\n        while len(num_stack) > 1:\n            x, y, op = num_stack.popleft(), num_stack.popleft(), op_stack.popleft()\n            if op == \"+\":\n                num_stack.appendleft(x + y)\n            if op == \"-\":\n                num_stack.appendleft(x - y)\n        return int(num_stack.pop())\n","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"basic-calculator-ii","has_notes":false,"flag_type":1}